I"®D<h1 id="metafields">Metafields</h1>

<p>The metafields are Namespaced Key - Value store for Apps.</p>

<p>The metafields can only be associated with the following entities:</p>

<ul>
  <li>Product</li>
  <li>Product_Variant</li>
  <li>Category</li>
  <li>Page</li>
  <li>Order</li>
  <li>Customer</li>
</ul>

<p>To do that you need to set the owner_resource to one of the above, an example would be owner_resource=â€™Productâ€™.</p>

<p>An use example would be use it in an app for Bookstores that require associate a book (product) with itâ€™s author and genre to provide an advanced search of books by this fields.</p>

<h2 id="properties">Properties</h2>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>The unique numeric identifier for the metafield.</td>
    </tr>
    <tr>
      <td>namespace</td>
      <td>The namespace where the metafield makes sense. It can be any string that starts with a letter followed only by: a-z A-Z 0-9 or _.</td>
    </tr>
    <tr>
      <td>key</td>
      <td>String that identifies the metafield in some namespace. It can be any string that starts with a letter followed only by: a-z A-Z 0-9 or _.</td>
    </tr>
    <tr>
      <td>description</td>
      <td>String explaining the metafieldâ€™s meaning (optional).</td>
    </tr>
    <tr>
      <td>value</td>
      <td>Metafieldâ€™s value (string).</td>
    </tr>
    <tr>
      <td>owner_resource</td>
      <td>Type of entity to which is associated the metafield.</td>
    </tr>
    <tr>
      <td>owner_id</td>
      <td>Entity id to which is associated the metaField.</td>
    </tr>
    <tr>
      <td>created_at</td>
      <td>Date when the Metafield was created in <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601 format</a></td>
    </tr>
    <tr>
      <td>updated_at</td>
      <td>Date when the Metafield was last updated in <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601 format</a></td>
    </tr>
  </tbody>
</table>

<h2 id="endpoints">Endpoints</h2>

<h3 id="get-metafieldsowner_resource">GET /metafields/{owner_resource}</h3>

<ul>
  <li>{owner_resource} examples are: products, product_variants, categories and pages</li>
</ul>

<p>Receive a list of all metafield.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>owner_id</td>
      <td>Entity id to which is associated the metaField.</td>
    </tr>
    <tr>
      <td>namespace</td>
      <td>The namespace where the metafield was defined.filter.</td>
    </tr>
    <tr>
      <td>key</td>
      <td>Metafieldâ€™s key.</td>
    </tr>
    <tr>
      <td>created_at_min</td>
      <td>Show Products created after date (<a href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601 format</a>)</td>
    </tr>
    <tr>
      <td>created_at_max</td>
      <td>Show Products created before date (<a href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601 format</a>)</td>
    </tr>
    <tr>
      <td>updated_at_min</td>
      <td>Show Products last updated after date (<a href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601 format</a>)</td>
    </tr>
    <tr>
      <td>updated_at_max</td>
      <td>Show Products last updated before date (<a href="http://en.wikipedia.org/wiki/ISO_8601">ISO 8601 format</a>)</td>
    </tr>
    <tr>
      <td>page</td>
      <td>Page to show</td>
    </tr>
    <tr>
      <td>per_page</td>
      <td>Amount of results</td>
    </tr>
    <tr>
      <td>fields</td>
      <td>Comma-separated list of fields to include in the response</td>
    </tr>
  </tbody>
</table>

<h4 id="get-metafieldsproducts">GET /metafields/products</h4>

<p><code class="language-plaintext highlighter-rouge">HTTP/1.1 200 OK</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">10691</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"key3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"namespace"</span><span class="p">:</span><span class="s2">"namespace3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="s2">"description3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="mi">2856879</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_resource"</span><span class="p">:</span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2015-01-02T19:48:44+0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2015-01-02T19:48:44+0000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">10692</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"key4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"namespace"</span><span class="p">:</span><span class="s2">"namespace4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="s2">"description4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="mi">2856879</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_resource"</span><span class="p">:</span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2015-01-02T19:48:44+0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2015-01-02T19:48:44+0000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h4 id="get-metafieldsproductsper_page3owner_id2856934created_at_min2013-01-01t000000-0300fieldsowner_idkeyvalue">GET /metafields/products?per_page=3&amp;owner_id=2856934&amp;created_at_min=2013-01-01T00:00:00-03:00&amp;fields=owner_id,key,value</h4>

<p><code class="language-plaintext highlighter-rouge">HTTP/1.1 200 OK</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"key3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="mi">2856934</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"key4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="mi">2856934</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"key5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="mi">2856934</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h3 id="get-metafieldsid">GET /metafields/{id}</h3>

<p>Receive a single metafield</p>

<h4 id="get-metafields11896">GET /metafields/11896</h4>

<p><code class="language-plaintext highlighter-rouge">HTTP/1.1 200 OK</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">11896</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"key0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"namespace"</span><span class="p">:</span><span class="s2">"namespace0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="s2">"description0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="mi">2856959</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_resource"</span><span class="p">:</span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2015-01-02T20:01:50+0000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2015-01-02T20:01:50+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="post-metafields">POST /metafields</h3>

<p>Create a new metafield</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>key</td>
      <td>The value is mandatory and it can be any string that starts with a letter followed only by: a-z A-Z 0-9 or _.</td>
    </tr>
    <tr>
      <td>value</td>
      <td>The value is mandatory and it can be any string.</td>
    </tr>
    <tr>
      <td>namespace</td>
      <td>The value is mandatory and it can be any string that starts with a letter followed only by: a-z A-Z 0-9 or _.</td>
    </tr>
    <tr>
      <td>description</td>
      <td>(Optional) Can have some description that shows the use of this metafield.</td>
    </tr>
    <tr>
      <td>owner_id</td>
      <td>The value is mandatory and must exist an entity of the owner_resource type with that id.</td>
    </tr>
    <tr>
      <td>owner_resource</td>
      <td>The value is mandatory and can be only the allowed values mentioned at the beginning of this documentation.</td>
    </tr>
  </tbody>
</table>

<h4 id="post-metafields-1">POST /metafields</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"key"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"namespace"</span><span class="p">:</span><span class="w"> </span><span class="s2">"namespace"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2857023"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">HTTP/1.1 201 Created</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">12877</span><span class="p">,</span><span class="w">
    </span><span class="nl">"namespace"</span><span class="p">:</span><span class="s2">"namespace"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="s2">"description"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"key"</span><span class="p">,</span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"value"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="mi">2857023</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2015-01-02 20:27:51"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2015-01-02 20:27:51"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="put-metafieldsid">PUT /metafields/{id}</h3>

<p>Modify an existing metafield. You can update the metafield value or/and the description associated.</p>

<h4 id="put-metafields32967">PUT /metafields/32967</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modified"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description modified"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">HTTP/1.1 200 OK</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">13226</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"key0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"modified"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"namespace"</span><span class="p">:</span><span class="s2">"namespace0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="s2">"description modified"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="mi">2857047</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_resource"</span><span class="p">:</span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2015-01-02T20:32:08+0000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2015-01-02T20:32:09+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="delete-metafieldsid">DELETE /metafields/{id}</h3>

<p>Delete an existing metafield</p>

<h4 id="delete-metafields13226">DELETE /metafields/13226</h4>

<p><code class="language-plaintext highlighter-rouge">HTTP/1.1 200 OK</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
:ET